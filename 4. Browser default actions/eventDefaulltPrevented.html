<!-- event.defaultPrevented is a property to signal other event handlers that the event was handled, so it still can propagate further, rather than stop results of event.stopPropagation().
 
it returns TRUE when default action was prevented, and otherwise
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="btn">Right-click shows browser context menu</button>

    <button
      oncontextmenu="alert('Draw our menu'); event.stopPropagation(); return false"
    >
      Right-click shows our context menu
    </button>

    <p>Right-click here for the document context menu</p>
    <button id="elem">Right-click here for the button context menu</button>

    <script>
      elem.oncontextmenu = function (event) {
        event.preventDefault();
        // event.stopPropagation(); // ketika fn event ini runs, cegah bubbling ke parent (document) event
        alert('Button context menu');
      };

      document.oncontextmenu = function (event) {
        // if (event.target.id === 'btn') return;
        if (event.defaultPrevented) return;
        event.preventDefault();

        alert('Document context menu');
      };

      window.oncontextmenu = function (event) {
        event.preventDefault();
        alert('It reach window'); //using event.defaultPrevented on document.oncontextmenu will still let bubbling reach window
      };
    </script>
  </body>
</html>
